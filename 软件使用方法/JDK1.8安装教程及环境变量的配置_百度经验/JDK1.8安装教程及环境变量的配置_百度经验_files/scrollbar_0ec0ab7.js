define("common-jquery:widget/js/ui/scrollbar/scrollbar.js",function(t,e,s){function o(t){"undefined"!=typeof t.style.WebkitUserSelect?t.style.WebkitUserSelect="none":"undefined"!=typeof t.style.MozUserSelect?t.style.MozUserSelect="none":"undefined"!=typeof t.onselectstart?t.onselectstart=function(){return!1}:t.onmousedown=function(){return!1}}function n(t){"undefined"!=typeof t.style.WebkitUserSelect?t.style.WebkitUserSelect="":"undefined"!=typeof t.style.MozUserSelect?t.style.MozUserSelect="":"undefined"!=typeof t.onselectstart?t.onselectstart=function(){return!0}:t.onmousedown=function(){return!0}}var r=t("common-jquery:widget/lib/jquery/jquery.js"),i=t("common-jquery:widget/js/ui/base/base.js");t("common-jquery:widget/lib/jquery.ui/jquery.ui.mousewheel.js");var c=i().extend({init:function(t){try{this.options=r.extend({scrollWrapper:"",scrollContent:"",maxHeight:600,autoHide:1},t),this.rate=0,this.scrollbarHeight=0,this.contentHeight=0}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"common-jquery:widget/js/ui/scrollbar/scrollbar.js",method:"",ln:30})}},render:function(){var t=this,e='<div class="scrollbar-wp" '+(t.options.autoHide?'style="display:none;"':"")+'><div class="scrollbar"></div></div>',s=t.options.scrollWrapper,i=t.options.scrollContent,c=t.options.maxHeight;t.contentHeight=i.height(),t.rate=c/t.contentHeight;var p=3;if(t.contentHeight>c){s.css({position:"relative",top:0,left:0,height:c,overflow:"hidden"}),i.css({position:"relative",top:0,left:0}),s.append(r(e));var a=r(".scrollbar",s);a.height(t.rate*c),a.hover(function(){r(this).addClass("hover")},function(){r(this).removeClass("hover")});var l=0,u=0,h=0,d=0;t.scrollbarHeight=a.height(),a.mousedown(function(t){l=1,u=t.pageY,h=parseInt(a.css("top"),10),d=parseInt(i.css("top"),10),o(document.body)}),r(document).mousemove(function(e){if(l){var s=e.pageY-u;if(0>s&&parseInt(a.css("top"),10)<=0)return a.css("top","0"),void i.css("top","0");if(s>0&&parseInt(a.css("top"),10)+p>=c-t.scrollbarHeight)return a.css("top",c-t.scrollbarHeight-p+"px"),void i.css("top","-"+(t.contentHeight-c-p)+"px");a.css("top",parseInt(h+s,10)+"px"),i.css({top:parseInt(d-s/c*t.contentHeight,10)+"px"})}}),r(document).mouseup(function(){l=0,n(document.body)});var f=5,g=0;t.options.autoHide?(s.click(function(){try{g=1,h=parseInt(a.css("top"),10),d=parseInt(i.css("top"),10)}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message,path:"common-jquery:widget/js/ui/scrollbar/scrollbar.js",method:"",ln:111})}}),s.blur(function(){g=0})):(g=1,h=parseInt(a.css("top"),10),d=parseInt(i.css("top"),10)),s.mousewheel(function(e,s){if(g&&a.is(":visible"))if(e.preventDefault(),h=parseInt(a.css("top"),10),d=parseInt(i.css("top"),10),0>s){var o=parseInt(a.css("top"),10);if(o+p>=c-t.scrollbarHeight)return a.css("top",c-t.scrollbarHeight-p+"px"),void i.css("top","-"+(t.contentHeight-c)-p+"px");a.css("top",parseInt(h+f,10)+"px"),i.css("top",parseInt(d-f/t.rate,10)+"px")}else if(s>0){if(parseInt(a.css("top"),10)<=0)return a.css("top","0"),void i.css("top","0");a.css("top",parseInt(h-f,10)+"px"),i.css("top",parseInt(d+f/t.rate,10)+"px")}}),t.options.autoHide&&s.hover(function(){r(".scrollbar-wp",s).show()},function(){r(".scrollbar-wp",s).hide(),l=0,n(document.body)})}},update:function(){var t=this,e=t.options.scrollWrapper,s=t.options.scrollContent,o=t.options.maxHeight;t.contentHeight=s.height();var n=r(".scrollbar",e);if(t.rate=o/t.contentHeight,t.contentHeight>o)if(n.length){var i=parseInt(n.css("top"),10),c=parseInt(s.css("top"),10);n.height(parseInt(t.rate*o,10)),t.scrollbarHeight=parseInt(t.rate*o,10),i>=o-t.scrollbarHeight?(n.css("top",o-t.scrollbarHeight+"px"),s.css("top","-"+(t.contentHeight-o)+"px")):(n.css("top",parseInt(t.rate*i,10)+"px"),s.css("top",parseInt(t.rate*c,10)+"px")),n.parent().show(),s.css("position","relative")}else t.render();else n.length&&n.parent().hide(),s.css("position","static")}});s.exports=c});